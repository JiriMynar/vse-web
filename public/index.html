<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>V≈†E Studio</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="auth-wrapper" id="auth-wrapper">
      <section class="auth-card" aria-labelledby="auth-title">
        <div class="auth-info">
          <h1 id="auth-title">V≈†E Studio</h1>
          <p>Jedno m√≠sto pro chaty, projekty a automatizace s n√°povƒõdou na dosah.</p>
        </div>
        <div class="auth-forms">
          <div class="tabs">
            <button id="tab-login" class="tab active" type="button">P≈ôihl√°≈°en√≠</button>
            <button id="tab-register" class="tab" type="button">Registrace</button>
          </div>
          <form id="login-form" class="form" autocomplete="on">
            <label for="login-email">E-mail</label>
            <input type="email" id="login-email" required placeholder="jmeno@vse.cz" />
            <label for="login-password">Heslo</label>
            <input type="password" id="login-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            <button type="submit" class="primary">P≈ôihl√°sit se</button>
          </form>
          <form id="register-form" class="form hidden" autocomplete="on">
            <label for="register-name">Jm√©no</label>
            <input type="text" id="register-name" required placeholder="Jan Nov√°k" />
            <label for="register-email">E-mail</label>
            <input type="email" id="register-email" required placeholder="jmeno@vse.cz" />
            <label for="register-password">Heslo</label>
            <input type="password" id="register-password" required minlength="6" placeholder="Min. 6 znak≈Ø" />
            <button type="submit" class="primary">Registrovat se</button>
          </form>
          <div id="auth-message" class="message" role="status" aria-live="polite"></div>
        </div>
      </section>
    </div>

    <div class="workspace hidden" id="workspace">
      <aside class="workspace-sidebar" aria-label="Hlavn√≠ navigace">
        <header class="workspace-brand">
          <h2>V≈†E Studio</h2>
          <p id="workspace-user"></p>
        </header>
        <nav class="workspace-nav" role="tablist">
          <button class="nav-item active" data-view="chat" type="button">üí¨ Chat</button>
          <button class="nav-item" data-view="projects" type="button">üìÅ Projekty</button>
          <button class="nav-item" data-view="automations" type="button">‚öôÔ∏è Automatizace</button>
          <button class="nav-item" data-view="profile" type="button">üë§ Profil</button>
          <button class="nav-item" data-view="help" type="button">‚ùì N√°povƒõda</button>
          <button id="nav-admin" class="nav-item hidden" data-view="admin" type="button">üõ°Ô∏è Administrace</button>
        </nav>
        <footer class="workspace-footer">
          <button id="logout" class="ghost" type="button">Odhl√°sit se</button>
        </footer>
      </aside>

      <main class="workspace-main" id="workspace-main">
        <header class="workspace-toolbar">
          <div>
            <h1 id="view-title">Chat</h1>
            <p id="view-subtitle">Spravujte konverzace a sledujte odpovƒõdi v re√°ln√©m ƒçase.</p>
          </div>
          <div class="toolbar-actions">
            <button id="theme-toggle" class="icon-button" type="button" aria-label="P≈ôepnout motiv">üåì</button>
          </div>
        </header>

        <section id="view-chat" class="view-panel">
          <div class="split">
            <div class="split-sidebar" aria-label="Seznam vl√°ken">
              <div class="split-actions">
                <button id="create-thread" class="primary full" type="button">+ Nov√Ω chat</button>
                <input id="thread-search" type="search" placeholder="Hledat vl√°kno" />
                <div class="chips" role="group" aria-label="Filtry vl√°ken">
                  <button class="chip active" data-filter="all" type="button">V≈°e</button>
                  <button class="chip" data-filter="favorites" type="button">Obl√≠ben√©</button>
                  <button class="chip" data-filter="recent" type="button">Ned√°vn√©</button>
                </div>
              </div>
              <ul id="thread-list" class="thread-list" role="tablist"></ul>
              <div class="split-footer">
                <button id="export-all" class="ghost full" type="button">Exportovat v≈°e</button>
                <button id="clear-all" class="ghost full" type="button">Vymazat historii</button>
              </div>
            </div>
            <div class="split-main" aria-live="polite">
              <div class="thread-header">
                <div>
                  <h2 id="active-thread-title">Vyberte vl√°kno</h2>
                  <p id="active-thread-meta"></p>
                </div>
                <div class="thread-actions">
                  <button id="chat-api-settings" class="ghost" type="button">API nastaven√≠</button>
                  <button id="favorite-thread" class="icon-button" type="button" aria-pressed="false" title="P≈ôidat k obl√≠ben√Ωm">‚òÖ</button>
                  <button id="rename-thread" class="ghost" type="button">P≈ôejmenovat</button>
                  <button id="export-thread" class="ghost" type="button">Exportovat</button>
                  <button id="clear-thread" class="ghost" type="button">Vymazat</button>
                  <button id="delete-thread" class="danger" type="button">Smazat</button>
                </div>
              </div>
              <div class="insights">
                <div id="insight-messages" class="insight">0 zpr√°v</div>
                <div id="insight-activity" class="insight">≈Ω√°dn√° aktivita</div>
                <div id="insight-favorite" class="insight">Neobl√≠ben√©</div>
              </div>
              <div id="chat-feedback" class="message" role="status" aria-live="polite"></div>
              <div class="chat-history-wrapper">
                <div id="chat-history" class="chat-history" role="log"></div>
                <div id="chat-empty" class="empty">
                  <h3>≈Ω√°dn√© zpr√°vy</h3>
                  <p>Zaƒçnƒõte konverzaci ve vybran√©m vl√°knƒõ nebo vytvo≈ôte nov√©.</p>
                </div>
              </div>
              <form id="chat-form" class="chat-form" autocomplete="off">
                <label for="chat-message" class="visually-hidden">Zpr√°va</label>
                <textarea id="chat-message" rows="1" placeholder="Napi≈°te zpr√°vu‚Ä¶" required></textarea>
                <div class="chat-controls">
                  <label class="toggle">
                    <input type="checkbox" id="enter-to-send" />
                    <span>Enter ode≈°le</span>
                  </label>
                  <button type="submit" class="primary">Odeslat</button>
                </div>
              </form>
            </div>
          </div>
        </section>

        <section id="view-projects" class="view-panel hidden">
          <div class="panel-header">
            <div>
              <h2>Va≈°e projekty</h2>
              <p>Seskupujte funkce do samostatn√Ωch modul≈Ø.</p>
            </div>
            <button id="create-project" class="primary" type="button">Nov√Ω projekt</button>
          </div>
          <div id="projects-empty" class="empty hidden">
            <h3>Zat√≠m ≈æ√°dn√© projekty</h3>
            <p>Zalo≈æte prvn√≠ projekt a p≈ôidejte do nƒõj automatizace.</p>
          </div>
          <div id="project-grid" class="project-grid"></div>
        </section>

        <section id="view-automations" class="view-panel hidden">
          <div class="panel-header">
            <div>
              <h2>Automatizace</h2>
              <p>Spravujte workflow v r√°mci vybran√©ho projektu.</p>
            </div>
            <select id="automation-project" class="select"></select>
            <button id="create-automation" class="primary" type="button">Nov√° automatizace</button>
          </div>
          <div id="automation-empty" class="empty">
            <h3>Vyberte projekt</h3>
            <p>Automatizace se zobraz√≠ po v√Ωbƒõru projektu s definovan√Ωmi workflow.</p>
          </div>
          <div id="automation-list" class="automation-list hidden"></div>
        </section>

        <section id="view-help" class="view-panel hidden">
          <article class="help-article" id="help-content" aria-live="polite">
            <header>
              <h2>Centrum n√°povƒõdy</h2>
              <p>Naƒç√≠t√°m obsah‚Ä¶</p>
            </header>
          </article>
        </section>

        <section id="view-profile" class="view-panel hidden">
          <div class="panel-header">
            <div>
              <h2>Osobn√≠ nastaven√≠</h2>
              <p>Upravte si zobrazovan√© jm√©no a zabezpeƒçte sv≈Øj √∫ƒçet.</p>
            </div>
          </div>
          <div id="profile-message" class="message hidden" role="status" aria-live="polite"></div>
          <div class="profile-grid">
            <form id="profile-name-form" class="card form" autocomplete="off">
              <h3>Zmƒõna jm√©na</h3>
              <label for="profile-name">Zobrazovan√© jm√©no</label>
              <input type="text" id="profile-name" required minlength="2" maxlength="120" />
              <button type="submit" class="primary">Ulo≈æit zmƒõny</button>
            </form>
            <form id="profile-password-form" class="card form" autocomplete="off">
              <h3>Zmƒõna hesla</h3>
              <label for="profile-current-password">Aktu√°ln√≠ heslo</label>
              <input type="password" id="profile-current-password" required />
              <label for="profile-new-password">Nov√© heslo</label>
              <input type="password" id="profile-new-password" required minlength="6" />
              <label for="profile-confirm-password">Potvrzen√≠ hesla</label>
              <input type="password" id="profile-confirm-password" required minlength="6" />
              <p class="form-hint">Nov√© heslo mus√≠ m√≠t alespo≈à 6 znak≈Ø.</p>
              <button type="submit" class="primary">Zmƒõnit heslo</button>
            </form>
          </div>
        </section>

        <section id="view-admin" class="view-panel hidden" aria-labelledby="admin-title">
          <div class="panel-header">
            <div>
              <h2 id="admin-title">Spr√°va u≈æivatel≈Ø</h2>
              <p>Sledujte registrovan√© √∫ƒçty, resetujte hesla a odstra≈àujte p≈ô√≠stupy.</p>
            </div>
          </div>
          <div id="admin-message" class="message hidden" role="status" aria-live="polite"></div>
          <div class="table-wrapper">
            <table class="data-table" id="admin-users-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Jm√©no</th>
                  <th>E-mail</th>
                  <th>Role</th>
                  <th>Vytvo≈ôeno</th>
                  <th>Akce</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>
      </main>
    </div>

    <template id="message-template">
      <div class="chat-message">
        <div class="avatar"></div>
        <div class="bubble">
          <div class="meta"></div>
          <div class="content"></div>
        </div>
      </div>
    </template>

    <template id="project-card-template">
      <article class="project-card">
        <header>
          <div class="badge"></div>
          <div>
            <h3 class="title"></h3>
            <p class="meta"></p>
          </div>
        </header>
        <p class="description"></p>
        <footer>
          <span class="stat automations"></span>
          <span class="stat runs"></span>
          <button class="ghost" data-action="archive" type="button">Archivovat</button>
        </footer>
      </article>
    </template>

    <template id="automation-card-template">
      <article class="automation-card">
        <header>
          <h3 class="title"></h3>
          <span class="status"></span>
        </header>
        <p class="trigger"></p>
        <pre class="config"></pre>
        <footer>
          <button class="ghost" data-action="toggle" type="button"></button>
          <button class="danger" data-action="delete" type="button">Smazat</button>
        </footer>
      </article>
    </template>

    <dialog id="chat-api-dialog">
      <article class="chat-api-settings">
        <header>
          <h2>Nastaven√≠ chat API</h2>
          <p>Propojte sv≈Øj chat s extern√≠mi slu≈æbami pomoc√≠ vlastn√≠ho API kl√≠ƒçe.</p>
        </header>
        <div id="chat-api-message" class="message hidden" role="status" aria-live="polite"></div>
        <div id="chat-api-connector-list" class="chat-api-connectors"></div>
        <menu class="dialog-actions">
          <button type="button" class="ghost" id="chat-api-close">Zav≈ô√≠t</button>
        </menu>
      </article>
    </dialog>

    <template id="chat-api-connector-template">
      <section class="api-connector card">
        <div class="connector-header">
          <div class="connector-info">
            <h3 class="connector-name"></h3>
            <p class="connector-description"></p>
          </div>
          <div class="connector-meta">
            <label class="connector-active">
              <input type="radio" name="chat-api-active" />
              <span>Aktivn√≠ konektor</span>
            </label>
            <span class="connector-status"></span>
          </div>
        </div>
        <form class="form connector-form" autocomplete="off">
          <div class="connector-fields"></div>
          <div class="connector-feedback message hidden" role="status" aria-live="polite"></div>
          <div class="connector-actions">
            <button type="submit" class="primary">Ulo≈æit</button>
          </div>
        </form>
      </section>
    </template>

    <dialog id="prompt-dialog">
      <form method="dialog">
        <h2 id="prompt-title"></h2>
        <label for="prompt-input" id="prompt-label"></label>
        <input type="text" id="prompt-input" required />
        <menu class="dialog-actions">
          <button value="cancel" type="button">Zru≈°it</button>
          <button value="confirm" class="primary" type="submit">Potvrdit</button>
        </menu>
      </form>
    </dialog>

    <dialog id="project-dialog">
      <form method="dialog" id="project-form">
        <h2>Nov√Ω projekt</h2>
        <label for="project-name">N√°zev</label>
        <input type="text" id="project-name" required />
        <label for="project-description">Popis</label>
        <textarea id="project-description" rows="3"></textarea>
        <label for="project-color">Barva</label>
        <input type="color" id="project-color" value="#2F80ED" />
        <menu class="dialog-actions">
          <button value="cancel" type="button">Zru≈°it</button>
          <button value="confirm" class="primary" type="submit">Vytvo≈ôit</button>
        </menu>
      </form>
    </dialog>

    <dialog id="automation-dialog">
      <form method="dialog" id="automation-form">
        <h2>Automatizace</h2>
        <label for="automation-name">N√°zev</label>
        <input type="text" id="automation-name" required />
        <label for="automation-trigger">Trigger</label>
        <input type="text" id="automation-trigger" required />
        <label for="automation-config">Konfigurace (JSON)</label>
        <textarea id="automation-config" rows="6" placeholder='{"webhook":"https://..."}'></textarea>
        <label class="toggle">
          <input type="checkbox" id="automation-active" />
          <span>Aktivn√≠</span>
        </label>
        <menu class="dialog-actions">
          <button value="cancel" type="button">Zru≈°it</button>
          <button value="confirm" class="primary" type="submit">Ulo≈æit</button>
        </menu>
      </form>
    </dialog>

    <script type="module" src="/app.js"></script>
  </body>
</html>
